<template>
    <lightning-card icon-name="utility:fallback" variant="base" if:true={mission} >
        <div slot="title">
            Mission Details
        </div>
        <div class="slds-p-around_small">
            <lightning-spinner 
                if:true={isLoading}
              alternative-text="Loading" 
              size="small"
              variant="base"
            ></lightning-spinner>
            <c-field-displaying label="Subject">
                <lightning-formatted-text  value={mission.Subject__c} ></lightning-formatted-text>
            </c-field-displaying>

            <c-field-displaying label="Details">
                <lightning-formatted-text value={mission.Details__c} ></lightning-formatted-text>
            </c-field-displaying>

            <c-field-displaying label="Complexity Rank">
                <lightning-formatted-text value={mission.Complexity_Rank__c}  ></lightning-formatted-text>
            </c-field-displaying>
            <div class="slds-border_bottom slds-p-around_xxx-small" style="width : 100%"></div>
            <c-field-displaying label="Reward">
                <lightning-formatted-number value={mission.Reward__c} format-style="currency"></lightning-formatted-number>
            </c-field-displaying>

            <c-field-displaying label="Deadline">
                <lightning-formatted-date-time value={mission.Deadline__c}></lightning-formatted-date-time>
            </c-field-displaying>
            
            <div class="slds-clearfix">
                    <lightning-button 
                    if:true={showCreateAssignment}
                    label="Accept" 
                    onclick={createAssignment} 
                    class="slds-align_absolute-center"
                ></lightning-button>

                <lightning-button 
                    if:true={showCompleteMission}
                    label="Complete" 
                    onclick={completeMission} 
                    class="slds-align_absolute-center"
                ></lightning-button>
            </div>
            
            
        </div>
    </lightning-card>

    <div if:false={recordId}>
        Select a mission to learn more about it
    </div>
    
</template>